<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#ffffff" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <title>AAAJ App</title>
  <style>
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;background:#fff;color:#111}
    .wrap{min-height:100vh;display:grid;place-items:center;padding:24px}
    .card{max-width:420px;width:100%;border:1px solid #e5e7eb;border-radius:16px;padding:18px;box-shadow:0 8px 30px rgba(0,0,0,.06)}
    .logo{width:84px;height:84px;border-radius:18px;display:grid;place-items:center;margin:0 auto 12px;border:1px solid #eee}
    h1{font-size:20px;margin:0 0 8px;text-align:center}
    p{margin:0 0 14px;text-align:center;color:#444}
    button,a.btn{display:block;width:100%;text-align:center;padding:12px 14px;border-radius:12px;border:0;background:#111;color:#fff;font-weight:700;text-decoration:none}
    .muted{font-size:12px;color:#666;margin-top:10px}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="logo">AAAJ</div>
      <h1>AAAJ App</h1>
      <p>Para evitar el error de Google Drive, abrimos la app en el navegador.</p>

      <a id="btn" class="btn" href="#">Abrir ahora</a>
      <div class="muted" id="msg"></div>
    </div>
  </div>

  <script>
    const GAS_URL = "https://script.google.com/macros/s/AKfycbxBe-dNInY9v8B1sBc9j3u5VNiuvXIpW3eW0nxHXPQ1Nb0ri8r_l_0Kpa3IRRZ4shQe/exec";

    const ua = navigator.userAgent || "";
    const isAndroid = /Android/i.test(ua);

    // En Android: forzamos abrir en Chrome externo (evita WebView que dispara el error Drive)
    const chromeIntent = isAndroid
      ? "intent://" + GAS_URL.replace(/^https?:\/\//, "") +
        "#Intent;scheme=https;package=com.android.chrome;end"
      : GAS_URL;

    const btn = document.getElementById("btn");
    const msg = document.getElementById("msg");

    btn.onclick = (e) => {
      e.preventDefault();
      // abre afuera del contenedor
      window.location.href = chromeIntent;
    };

    // Auto-intento a los 600ms (si falla, el botón queda)
    setTimeout(() => {
      msg.textContent = "Abriendo…";
      window.location.href = chromeIntent;
    }, 600);
  </script>
</body>
</html>

